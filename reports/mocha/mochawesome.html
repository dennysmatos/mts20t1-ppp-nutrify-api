<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Relatório Mochawesome - pt-BR</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:10,&quot;tests&quot;:22,&quot;passes&quot;:22,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2025-12-17T19:53:32.060Z&quot;,&quot;end&quot;:&quot;2025-12-17T19:53:35.637Z&quot;,&quot;duration&quot;:3577,&quot;testsRegistered&quot;:22,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;b4854bc6-0283-4e23-800d-6e6439171905&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;f4c8edb7-83c9-4c84-b415-692406c7b849&quot;,&quot;title&quot;:&quot;Casos funcionais negativos extras (pt-BR)&quot;,&quot;fullFile&quot;:&quot;/Users/dennysmatos/Projects/julio-de-lima/mts20t1-ppp-nutrify-api/test/functional/extra-negative.spec.js&quot;,&quot;file&quot;:&quot;/test/functional/extra-negative.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Casos funcionais negativos extras (pt-BR)\&quot;&quot;,&quot;fullTitle&quot;:&quot;Casos funcionais negativos extras (pt-BR) \&quot;before each\&quot; hook in \&quot;Casos funcionais negativos extras (pt-BR)\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;reset()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6176d228-3d0f-4db9-977a-7427efd1908a&quot;,&quot;parentUUID&quot;:&quot;f4c8edb7-83c9-4c84-b415-692406c7b849&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;retorna 400 ao enviar nome como número no registro&quot;,&quot;fullTitle&quot;:&quot;Casos funcionais negativos extras (pt-BR) retorna 400 ao enviar nome como número no registro&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:43,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).post(&#x27;/users/register&#x27;).send({ name: 123, email: &#x27;a@b.com&#x27;, password: &#x27;123456&#x27; });\nexpect(res.status).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9ed15843-91b2-4b30-8796-14b3b84bedba&quot;,&quot;parentUUID&quot;:&quot;f4c8edb7-83c9-4c84-b415-692406c7b849&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;retorna 400 ao criar alimento com calories nulo&quot;,&quot;fullTitle&quot;:&quot;Casos funcionais negativos extras (pt-BR) retorna 400 ao criar alimento com calories nulo&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:242,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app).post(&#x27;/users/register&#x27;).send({ name: &#x27;A&#x27;, email: &#x27;a2@b.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app).post(&#x27;/users/login&#x27;).send({ email: &#x27;a2@b.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\nconst res = await request(app).post(&#x27;/foods&#x27;).set(&#x27;Authorization&#x27;, `Bearer ${token}`).send({ name: &#x27;X&#x27;, calories: null });\nexpect(res.status).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c3cd453-fb7b-455e-a179-25b47125a2a1&quot;,&quot;parentUUID&quot;:&quot;f4c8edb7-83c9-4c84-b415-692406c7b849&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;retorna 400 ao criar refeição com array vazio de foods&quot;,&quot;fullTitle&quot;:&quot;Casos funcionais negativos extras (pt-BR) retorna 400 ao criar refeição com array vazio de foods&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:232,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app).post(&#x27;/users/register&#x27;).send({ name: &#x27;B&#x27;, email: &#x27;b@b.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app).post(&#x27;/users/login&#x27;).send({ email: &#x27;b@b.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\n  const res = await request(app).post(&#x27;/meals&#x27;).set(&#x27;Authorization&#x27;, `Bearer ${token}`).send({ foods: [] });\nexpect(res.status).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;971bf8dd-36fc-46f3-b743-7174d88e1be5&quot;,&quot;parentUUID&quot;:&quot;f4c8edb7-83c9-4c84-b415-692406c7b849&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;retorna 401 ao acessar rota protegida com token inválido&quot;,&quot;fullTitle&quot;:&quot;Casos funcionais negativos extras (pt-BR) retorna 401 ao acessar rota protegida com token inválido&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).post(&#x27;/foods&#x27;).set(&#x27;Authorization&#x27;, &#x27;Bearer invalid.token&#x27;).send({ name: &#x27;Z&#x27;, calories: 10 });\nexpect(res.status).to.equal(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;93ac3b5d-8bac-46da-a6b5-a13adc843bae&quot;,&quot;parentUUID&quot;:&quot;f4c8edb7-83c9-4c84-b415-692406c7b849&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;retorna 400 ao atualizar alimento com campo extra inesperado&quot;,&quot;fullTitle&quot;:&quot;Casos funcionais negativos extras (pt-BR) retorna 400 ao atualizar alimento com campo extra inesperado&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:204,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app).post(&#x27;/users/register&#x27;).send({ name: &#x27;C&#x27;, email: &#x27;c@c.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app).post(&#x27;/users/login&#x27;).send({ email: &#x27;c@c.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\nconst f = await request(app).post(&#x27;/foods&#x27;).set(&#x27;Authorization&#x27;, `Bearer ${token}`).send({ name: &#x27;Y&#x27;, calories: 20 });\nconst id = f.body.id;\nconst res = await request(app).put(`/foods/${id}`).set(&#x27;Authorization&#x27;, `Bearer ${token}`).send({ name: &#x27;Y&#x27;, calories: 22, unexpected: true });\nexpect(res.status).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6816b194-b61c-4f0a-85f2-d65e892ac4fb&quot;,&quot;parentUUID&quot;:&quot;f4c8edb7-83c9-4c84-b415-692406c7b849&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9ed15843-91b2-4b30-8796-14b3b84bedba&quot;,&quot;3c3cd453-fb7b-455e-a179-25b47125a2a1&quot;,&quot;971bf8dd-36fc-46f3-b743-7174d88e1be5&quot;,&quot;93ac3b5d-8bac-46da-a6b5-a13adc843bae&quot;,&quot;6816b194-b61c-4f0a-85f2-d65e892ac4fb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:731,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;e923e46a-666e-475e-82c0-067c0f3f3aac&quot;,&quot;title&quot;:&quot;Endpoints de Alimentos (funcional)&quot;,&quot;fullFile&quot;:&quot;/Users/dennysmatos/Projects/julio-de-lima/mts20t1-ppp-nutrify-api/test/functional/food.spec.js&quot;,&quot;file&quot;:&quot;/test/functional/food.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Endpoints de Alimentos (funcional)\&quot;&quot;,&quot;fullTitle&quot;:&quot;Endpoints de Alimentos (funcional) \&quot;before each\&quot; hook in \&quot;Endpoints de Alimentos (funcional)\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;reset()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c55246f-e35d-46a2-9a59-70bc804a9ce8&quot;,&quot;parentUUID&quot;:&quot;e923e46a-666e-475e-82c0-067c0f3f3aac&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;deve criar um alimento&quot;,&quot;fullTitle&quot;:&quot;Endpoints de Alimentos (funcional) deve criar um alimento&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:240,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app).post(&#x27;/users/register&#x27;).send({ name: &#x27;Food&#x27;, email: &#x27;f@example.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app).post(&#x27;/users/login&#x27;).send({ email: &#x27;f@example.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\nconst res = await request(app)\n  .post(&#x27;/foods&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ name: &#x27;Banana&#x27;, category: &#x27;Fruta&#x27;, calories: 89 });\nexpect(res.status).to.equal(201);\nexpect(res.body).to.have.property(&#x27;id&#x27;);\nexpect(res.body).to.have.property(&#x27;createdAt&#x27;);\nexpect(res.body).to.have.property(&#x27;updatedAt&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f17f651b-f049-459b-8db5-85d8d0001ebf&quot;,&quot;parentUUID&quot;:&quot;e923e46a-666e-475e-82c0-067c0f3f3aac&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f17f651b-f049-459b-8db5-85d8d0001ebf&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:240,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;af44fcbe-7094-4c4f-9f69-f7a692366fc8&quot;,&quot;title&quot;:&quot;Endpoints de Refeição (funcional)&quot;,&quot;fullFile&quot;:&quot;/Users/dennysmatos/Projects/julio-de-lima/mts20t1-ppp-nutrify-api/test/functional/meal.spec.js&quot;,&quot;file&quot;:&quot;/test/functional/meal.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Endpoints de Refeição (funcional)\&quot;&quot;,&quot;fullTitle&quot;:&quot;Endpoints de Refeição (funcional) \&quot;before each\&quot; hook in \&quot;Endpoints de Refeição (funcional)\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;reset()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;319a995a-6a42-45fd-94a0-fb7924748c5f&quot;,&quot;parentUUID&quot;:&quot;af44fcbe-7094-4c4f-9f69-f7a692366fc8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;deve criar uma refeição e computar totais&quot;,&quot;fullTitle&quot;:&quot;Endpoints de Refeição (funcional) deve criar uma refeição e computar totais&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:227,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app).post(&#x27;/users/register&#x27;).send({ name: &#x27;M&#x27;, email: &#x27;m@example.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app).post(&#x27;/users/login&#x27;).send({ email: &#x27;m@example.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\nconst foodRes = await request(app)\n  .post(&#x27;/foods&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ name: &#x27;Apple&#x27;, calories: 52, protein: 0.3, carbs: 14, fat: 0.2 });\nconst foodId = foodRes.body.id;\nconst res = await request(app)\n  .post(&#x27;/meals&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ foods: [foodId] });\nexpect(res.status).to.equal(201);\nexpect(res.body).to.have.property(&#x27;totalCalories&#x27;);\nexpect(res.body.totalCalories).to.equal(52);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d525cb58-49b4-4b17-80d2-d2f6d76c9894&quot;,&quot;parentUUID&quot;:&quot;af44fcbe-7094-4c4f-9f69-f7a692366fc8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d525cb58-49b4-4b17-80d2-d2f6d76c9894&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:227,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;043d755f-2e0b-4411-970f-47e169adc139&quot;,&quot;title&quot;:&quot;Testes funcionais negativos / validação&quot;,&quot;fullFile&quot;:&quot;/Users/dennysmatos/Projects/julio-de-lima/mts20t1-ppp-nutrify-api/test/functional/negative.spec.js&quot;,&quot;file&quot;:&quot;/test/functional/negative.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Testes funcionais negativos / validação\&quot;&quot;,&quot;fullTitle&quot;:&quot;Testes funcionais negativos / validação \&quot;before each\&quot; hook in \&quot;Testes funcionais negativos / validação\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;reset()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b8aab17b-3b0f-40f7-a2e6-75f194718a95&quot;,&quot;parentUUID&quot;:&quot;043d755f-2e0b-4411-970f-47e169adc139&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;f0cec324-130a-4f82-83c8-6cec27c2e8f5&quot;,&quot;title&quot;:&quot;Validação de usuários e erros de autenticação&quot;,&quot;fullFile&quot;:&quot;/Users/dennysmatos/Projects/julio-de-lima/mts20t1-ppp-nutrify-api/test/functional/negative.spec.js&quot;,&quot;file&quot;:&quot;/test/functional/negative.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;retorna 400 ao registrar sem senha&quot;,&quot;fullTitle&quot;:&quot;Testes funcionais negativos / validação Validação de usuários e erros de autenticação retorna 400 ao registrar sem senha&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).post(&#x27;/users/register&#x27;).send({ name: &#x27;NoPass&#x27;, email: &#x27;nopass@example.com&#x27; });\nexpect(res.status).to.equal(400);\nexpect(res.body).to.have.property(&#x27;errors&#x27;).that.is.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6d5eb88e-4f0b-40c9-85e4-6340e6b8cae7&quot;,&quot;parentUUID&quot;:&quot;f0cec324-130a-4f82-83c8-6cec27c2e8f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;retorna 400 ao registrar com nome vazio&quot;,&quot;fullTitle&quot;:&quot;Testes funcionais negativos / validação Validação de usuários e erros de autenticação retorna 400 ao registrar com nome vazio&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).post(&#x27;/users/register&#x27;).send({ name: &#x27;&#x27;, email: &#x27;blank@example.com&#x27;, password: &#x27;123456&#x27; });\nexpect(res.status).to.equal(400);\nexpect(res.body).to.have.property(&#x27;errors&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;838e9a1c-66e9-450d-a4b4-8b784322933d&quot;,&quot;parentUUID&quot;:&quot;f0cec324-130a-4f82-83c8-6cec27c2e8f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;retorna 401 ao autenticar com credenciais incorretas&quot;,&quot;fullTitle&quot;:&quot;Testes funcionais negativos / validação Validação de usuários e erros de autenticação retorna 401 ao autenticar com credenciais incorretas&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:183,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app).post(&#x27;/users/register&#x27;).send({ name: &#x27;Login&#x27;, email: &#x27;login@example.com&#x27;, password: &#x27;correct&#x27; });\nconst res = await request(app).post(&#x27;/users/login&#x27;).send({ email: &#x27;login@example.com&#x27;, password: &#x27;wrong&#x27; });\nexpect(res.status).to.equal(401);\nexpect(res.body).to.have.property(&#x27;error&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;399a5e9e-6fea-43a4-89eb-48861212b1b6&quot;,&quot;parentUUID&quot;:&quot;f0cec324-130a-4f82-83c8-6cec27c2e8f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6d5eb88e-4f0b-40c9-85e4-6340e6b8cae7&quot;,&quot;838e9a1c-66e9-450d-a4b4-8b784322933d&quot;,&quot;399a5e9e-6fea-43a4-89eb-48861212b1b6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:194,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;19895e12-855f-47e9-8c68-66c6c4c3a7f0&quot;,&quot;title&quot;:&quot;Validação de alimentos e autenticação&quot;,&quot;fullFile&quot;:&quot;/Users/dennysmatos/Projects/julio-de-lima/mts20t1-ppp-nutrify-api/test/functional/negative.spec.js&quot;,&quot;file&quot;:&quot;/test/functional/negative.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;retorna 401 ao criar alimento sem token&quot;,&quot;fullTitle&quot;:&quot;Testes funcionais negativos / validação Validação de alimentos e autenticação retorna 401 ao criar alimento sem token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).post(&#x27;/foods&#x27;).send({ name: &#x27;NoAuth&#x27;, calories: 10 });\nexpect(res.status).to.equal(401);\nexpect(res.body).to.have.property(&#x27;error&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e7d0a2c2-787d-46e6-85be-7866f4103022&quot;,&quot;parentUUID&quot;:&quot;19895e12-855f-47e9-8c68-66c6c4c3a7f0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;retorna 400 ao criar alimento sem nome&quot;,&quot;fullTitle&quot;:&quot;Testes funcionais negativos / validação Validação de alimentos e autenticação retorna 400 ao criar alimento sem nome&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:187,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app).post(&#x27;/users/register&#x27;).send({ name: &#x27;F&#x27;, email: &#x27;f2@example.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app).post(&#x27;/users/login&#x27;).send({ email: &#x27;f2@example.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\nconst res = await request(app).post(&#x27;/foods&#x27;).set(&#x27;Authorization&#x27;, `Bearer ${token}`).send({ calories: 10 });\nexpect(res.status).to.equal(400);\nexpect(res.body).to.have.property(&#x27;errors&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;260146c3-44a2-41df-a5bc-31b4ce020da3&quot;,&quot;parentUUID&quot;:&quot;19895e12-855f-47e9-8c68-66c6c4c3a7f0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;retorna 400 quando calories tem tipo errado&quot;,&quot;fullTitle&quot;:&quot;Testes funcionais negativos / validação Validação de alimentos e autenticação retorna 400 quando calories tem tipo errado&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:196,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app).post(&#x27;/users/register&#x27;).send({ name: &#x27;F&#x27;, email: &#x27;f3@example.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app).post(&#x27;/users/login&#x27;).send({ email: &#x27;f3@example.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\nconst res = await request(app).post(&#x27;/foods&#x27;).set(&#x27;Authorization&#x27;, `Bearer ${token}`).send({ name: &#x27;Apple&#x27;, calories: &#x27;not-a-number&#x27; });\nexpect(res.status).to.equal(400);\nexpect(res.body).to.have.property(&#x27;errors&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1b3240f-6a85-4d8c-8745-a3c5c0cfb3b7&quot;,&quot;parentUUID&quot;:&quot;19895e12-855f-47e9-8c68-66c6c4c3a7f0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;retorna 403 quando usuário não-admin tenta atualizar alimento&quot;,&quot;fullTitle&quot;:&quot;Testes funcionais negativos / validação Validação de alimentos e autenticação retorna 403 quando usuário não-admin tenta atualizar alimento&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:378,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// first register admin (first user is admin)\nawait request(app).post(&#x27;/users/register&#x27;).send({ name: &#x27;Admin&#x27;, email: &#x27;admin@example.com&#x27;, password: &#x27;123456&#x27; });\n// create another normal user\nawait request(app).post(&#x27;/users/register&#x27;).send({ name: &#x27;User&#x27;, email: &#x27;user@example.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app).post(&#x27;/users/login&#x27;).send({ email: &#x27;user@example.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\n// admin creates food\nconst adminLogin = await request(app).post(&#x27;/users/login&#x27;).send({ email: &#x27;admin@example.com&#x27;, password: &#x27;123456&#x27; });\nconst adminToken = adminLogin.body.token;\nconst created = await request(app).post(&#x27;/foods&#x27;).set(&#x27;Authorization&#x27;, `Bearer ${adminToken}`).send({ name: &#x27;Milk&#x27;, calories: 42 });\nconst id = created.body.id;\n// non-admin tries to update\nconst res = await request(app).put(`/foods/${id}`).set(&#x27;Authorization&#x27;, `Bearer ${token}`).send({ name: &#x27;Milk&#x27;, calories: 50 });\nexpect(res.status).to.equal(403);\nexpect(res.body).to.have.property(&#x27;error&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8620c957-d089-403f-b049-fbacc9a6c86b&quot;,&quot;parentUUID&quot;:&quot;19895e12-855f-47e9-8c68-66c6c4c3a7f0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e7d0a2c2-787d-46e6-85be-7866f4103022&quot;,&quot;260146c3-44a2-41df-a5bc-31b4ce020da3&quot;,&quot;c1b3240f-6a85-4d8c-8745-a3c5c0cfb3b7&quot;,&quot;8620c957-d089-403f-b049-fbacc9a6c86b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:764,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;172004b3-7ef2-471b-ba3e-6fd4d130d4ae&quot;,&quot;title&quot;:&quot;Validação de refeições e erros de negócio&quot;,&quot;fullFile&quot;:&quot;/Users/dennysmatos/Projects/julio-de-lima/mts20t1-ppp-nutrify-api/test/functional/negative.spec.js&quot;,&quot;file&quot;:&quot;/test/functional/negative.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;retorna 400 ao criar refeição sem lista de alimentos&quot;,&quot;fullTitle&quot;:&quot;Testes funcionais negativos / validação Validação de refeições e erros de negócio retorna 400 ao criar refeição sem lista de alimentos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:191,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app).post(&#x27;/users/register&#x27;).send({ name: &#x27;M&#x27;, email: &#x27;m2@example.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app).post(&#x27;/users/login&#x27;).send({ email: &#x27;m2@example.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\n\n  const res = await request(app).post(&#x27;/meals&#x27;).set(&#x27;Authorization&#x27;, `Bearer ${token}`).send({ });\nexpect(res.status).to.equal(400);\nexpect(res.body).to.have.property(&#x27;errors&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;faabbaa9-4b9e-4312-8068-c43c0b405cf2&quot;,&quot;parentUUID&quot;:&quot;172004b3-7ef2-471b-ba3e-6fd4d130d4ae&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;retorna 400 quando foods não é um array&quot;,&quot;fullTitle&quot;:&quot;Testes funcionais negativos / validação Validação de refeições e erros de negócio retorna 400 quando foods não é um array&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:186,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app).post(&#x27;/users/register&#x27;).send({ name: &#x27;M&#x27;, email: &#x27;m3@example.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app).post(&#x27;/users/login&#x27;).send({ email: &#x27;m3@example.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\n\n  const res = await request(app).post(&#x27;/meals&#x27;).set(&#x27;Authorization&#x27;, `Bearer ${token}`).send({ foods: &#x27;not-an-array&#x27; });\nexpect(res.status).to.equal(400);\nexpect(res.body).to.have.property(&#x27;errors&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0a433903-5487-49d8-beea-f3f10fb2fdbc&quot;,&quot;parentUUID&quot;:&quot;172004b3-7ef2-471b-ba3e-6fd4d130d4ae&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;retorna 400 quando refeição referencia id de alimento inexistente&quot;,&quot;fullTitle&quot;:&quot;Testes funcionais negativos / validação Validação de refeições e erros de negócio retorna 400 quando refeição referencia id de alimento inexistente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:181,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app).post(&#x27;/users/register&#x27;).send({ name: &#x27;M&#x27;, email: &#x27;m4@example.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app).post(&#x27;/users/login&#x27;).send({ email: &#x27;m4@example.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\n\n  const res = await request(app).post(&#x27;/meals&#x27;).set(&#x27;Authorization&#x27;, `Bearer ${token}`).send({ foods: [&#x27;non-existing-id&#x27;] });\nexpect(res.status).to.equal(400);\nexpect(res.body).to.have.property(&#x27;error&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;be277e36-244c-47b8-a953-2ce061d3d76b&quot;,&quot;parentUUID&quot;:&quot;172004b3-7ef2-471b-ba3e-6fd4d130d4ae&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;faabbaa9-4b9e-4312-8068-c43c0b405cf2&quot;,&quot;0a433903-5487-49d8-beea-f3f10fb2fdbc&quot;,&quot;be277e36-244c-47b8-a953-2ce061d3d76b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:558,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;afb2c92e-15f3-4678-997b-084fc2b3a929&quot;,&quot;title&quot;:&quot;Validação strict (funcional)&quot;,&quot;fullFile&quot;:&quot;/Users/dennysmatos/Projects/julio-de-lima/mts20t1-ppp-nutrify-api/test/functional/strict.spec.js&quot;,&quot;file&quot;:&quot;/test/functional/strict.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Validação strict (funcional)\&quot;&quot;,&quot;fullTitle&quot;:&quot;Validação strict (funcional) \&quot;before each\&quot; hook in \&quot;Validação strict (funcional)\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;reset()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af8170ce-e391-4033-bf18-7622b7d20d63&quot;,&quot;parentUUID&quot;:&quot;afb2c92e-15f3-4678-997b-084fc2b3a929&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;POST /users/register rejeita campos extras&quot;,&quot;fullTitle&quot;:&quot;Validação strict (funcional) POST /users/register rejeita campos extras&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).post(&#x27;/users/register&#x27;).send({ name: &#x27;X&#x27;, email: &#x27;x@example.com&#x27;, password: &#x27;123456&#x27;, extra: &#x27;no&#x27; });\nexpect(res.status).to.equal(400);\nexpect(res.body).to.have.property(&#x27;error&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0c3b5901-3363-44bd-b1e6-4a1a75308b43&quot;,&quot;parentUUID&quot;:&quot;afb2c92e-15f3-4678-997b-084fc2b3a929&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;POST /foods rejects extra fields&quot;,&quot;fullTitle&quot;:&quot;Validação strict (funcional) POST /foods rejects extra fields&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:177,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app).post(&#x27;/users/register&#x27;).send({ name: &#x27;F&#x27;, email: &#x27;f@example.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app).post(&#x27;/users/login&#x27;).send({ email: &#x27;f@example.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\nconst res = await request(app)\n  .post(&#x27;/foods&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ name: &#x27;Banana&#x27;, calories: 89, extra: &#x27;no&#x27; });\nexpect(res.status).to.equal(400);\nexpect(res.body).to.have.property(&#x27;error&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b5d325d-16ac-4e9b-9aec-961976d3add3&quot;,&quot;parentUUID&quot;:&quot;afb2c92e-15f3-4678-997b-084fc2b3a929&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0c3b5901-3363-44bd-b1e6-4a1a75308b43&quot;,&quot;8b5d325d-16ac-4e9b-9aec-961976d3add3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:179,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;c5337893-e2fd-4e78-85de-46f3cbe27c82&quot;,&quot;title&quot;:&quot;Validação strict em atualização (funcional)&quot;,&quot;fullFile&quot;:&quot;/Users/dennysmatos/Projects/julio-de-lima/mts20t1-ppp-nutrify-api/test/functional/strict_update.spec.js&quot;,&quot;file&quot;:&quot;/test/functional/strict_update.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Validação strict em atualização (funcional)\&quot;&quot;,&quot;fullTitle&quot;:&quot;Validação strict em atualização (funcional) \&quot;before each\&quot; hook in \&quot;Validação strict em atualização (funcional)\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;reset()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;31115025-f82c-4486-ae53-88d851991ec4&quot;,&quot;parentUUID&quot;:&quot;c5337893-e2fd-4e78-85de-46f3cbe27c82&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;PUT /foods/:id rejeita campos extras&quot;,&quot;fullTitle&quot;:&quot;Validação strict em atualização (funcional) PUT /foods/:id rejeita campos extras&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:183,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app).post(&#x27;/users/register&#x27;).send({ name: &#x27;U&#x27;, email: &#x27;u@example.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app).post(&#x27;/users/login&#x27;).send({ email: &#x27;u@example.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\nconst create = await request(app)\n  .post(&#x27;/foods&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ name: &#x27;Orange&#x27;, calories: 47 });\nconst id = create.body.id;\nconst res = await request(app)\n  .put(`/foods/${id}`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ name: &#x27;Orange&#x27;, calories: 50, extra: &#x27;no&#x27; });\nexpect(res.status).to.equal(400);\nexpect(res.body).to.have.property(&#x27;error&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b7a04043-dc3f-48aa-b4ae-fdaeccb05760&quot;,&quot;parentUUID&quot;:&quot;c5337893-e2fd-4e78-85de-46f3cbe27c82&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;PUT /meals/:id rejects extra fields&quot;,&quot;fullTitle&quot;:&quot;Validação strict em atualização (funcional) PUT /meals/:id rejects extra fields&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:278,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app).post(&#x27;/users/register&#x27;).send({ name: &#x27;V&#x27;, email: &#x27;v@example.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app).post(&#x27;/users/login&#x27;).send({ email: &#x27;v@example.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\nconst foodRes = await request(app)\n  .post(&#x27;/foods&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ name: &#x27;Pear&#x27;, calories: 57 });\nconst foodId = foodRes.body.id;\nconst mealRes = await request(app)\n  .post(&#x27;/meals&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ foods: [foodId] });\nconst mealId = mealRes.body.id;\nconst res = await request(app)\n  .put(`/meals/${mealId}`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ date: new Date().toISOString(), foods: [foodId], extra: &#x27;no&#x27; });\nexpect(res.status).to.equal(400);\nexpect(res.body).to.have.property(&#x27;error&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3369dc4a-dfb8-45fb-8c80-b2b9b07f0036&quot;,&quot;parentUUID&quot;:&quot;c5337893-e2fd-4e78-85de-46f3cbe27c82&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b7a04043-dc3f-48aa-b4ae-fdaeccb05760&quot;,&quot;3369dc4a-dfb8-45fb-8c80-b2b9b07f0036&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:461,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;f8bff2a9-39b3-43ed-aa03-37e46cd373e2&quot;,&quot;title&quot;:&quot;Endpoints de Usuário (funcional)&quot;,&quot;fullFile&quot;:&quot;/Users/dennysmatos/Projects/julio-de-lima/mts20t1-ppp-nutrify-api/test/functional/user.spec.js&quot;,&quot;file&quot;:&quot;/test/functional/user.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Endpoints de Usuário (funcional)\&quot;&quot;,&quot;fullTitle&quot;:&quot;Endpoints de Usuário (funcional) \&quot;before each\&quot; hook in \&quot;Endpoints de Usuário (funcional)\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;reset()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;682321fb-d85a-4065-8c52-098a558fdf49&quot;,&quot;parentUUID&quot;:&quot;f8bff2a9-39b3-43ed-aa03-37e46cd373e2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;deve registrar e autenticar um usuário&quot;,&quot;fullTitle&quot;:&quot;Endpoints de Usuário (funcional) deve registrar e autenticar um usuário&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:168,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res1 = await request(app).post(&#x27;/users/register&#x27;).send({ name: &#x27;User&#x27;, email: &#x27;u@example.com&#x27;, password: &#x27;123456&#x27; });\nexpect(res1.status).to.equal(201);\nexpect(res1.body).to.have.property(&#x27;id&#x27;);\nconst res2 = await request(app).post(&#x27;/users/login&#x27;).send({ email: &#x27;u@example.com&#x27;, password: &#x27;123456&#x27; });\nexpect(res2.status).to.equal(200);\nexpect(res2.body).to.have.property(&#x27;token&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a0f62f3c-1780-4323-ad49-1cc72cb9ed48&quot;,&quot;parentUUID&quot;:&quot;f8bff2a9-39b3-43ed-aa03-37e46cd373e2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a0f62f3c-1780-4323-ad49-1cc72cb9ed48&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:168,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:5000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.8.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:true,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;reports/mocha&quot;,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;quiet&quot;:&quot;true&quot;,&quot;reportTitle&quot;:&quot;mts20t1-ppp-nutrify - Relatório de Testes (pt-BR)&quot;,&quot;reportPageTitle&quot;:&quot;Relatório Mochawesome - pt-BR&quot;,&quot;inlineAssets&quot;:&quot;false&quot;,&quot;timestamp&quot;:&quot;false&quot;,&quot;overwrite&quot;:&quot;true&quot;},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;reports/mocha&quot;,&quot;reportTitle&quot;:&quot;mts20t1-ppp-nutrify - Relatório de Testes (pt-BR)&quot;,&quot;reportPageTitle&quot;:&quot;Relatório Mochawesome - pt-BR&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:&quot;false&quot;,&quot;ts&quot;:&quot;false&quot;,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;reports/mocha/assets&quot;,&quot;jsonFile&quot;:&quot;/Users/dennysmatos/Projects/julio-de-lima/mts20t1-ppp-nutrify-api/reports/mocha/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/Users/dennysmatos/Projects/julio-de-lima/mts20t1-ppp-nutrify-api/reports/mocha/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>