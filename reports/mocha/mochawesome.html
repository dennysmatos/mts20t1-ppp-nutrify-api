<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Relatório Mochawesome - pt-BR</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:10,&quot;tests&quot;:22,&quot;passes&quot;:22,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2025-12-18T14:50:02.694Z&quot;,&quot;end&quot;:&quot;2025-12-18T14:50:05.661Z&quot;,&quot;duration&quot;:2967,&quot;testsRegistered&quot;:22,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;57db1280-471c-4a62-a260-2b86869ede9d&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;14d6f816-28d9-48df-bcd0-eed4772a3c3d&quot;,&quot;title&quot;:&quot;Casos funcionais negativos extras (pt-BR)&quot;,&quot;fullFile&quot;:&quot;/Users/dennysmatos/Projects/julio-de-lima/mts20t1-ppp-nutrify-api/test/functional/extra-negative.spec.js&quot;,&quot;file&quot;:&quot;/test/functional/extra-negative.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Casos funcionais negativos extras (pt-BR)\&quot;&quot;,&quot;fullTitle&quot;:&quot;Casos funcionais negativos extras (pt-BR) \&quot;before each\&quot; hook in \&quot;Casos funcionais negativos extras (pt-BR)\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;reset()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d8e759dc-6b45-411f-ad63-8a751cc95643&quot;,&quot;parentUUID&quot;:&quot;14d6f816-28d9-48df-bcd0-eed4772a3c3d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;retorna 400 ao enviar nome como número no registro&quot;,&quot;fullTitle&quot;:&quot;Casos funcionais negativos extras (pt-BR) retorna 400 ao enviar nome como número no registro&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:37,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app)\n  .post(&#x27;/users/register&#x27;)\n  .send({ name: 123, email: &#x27;a@b.com&#x27;, password: &#x27;123456&#x27; });\nexpect(res.status).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8be62290-86ef-4ea9-89f7-28d724eebd52&quot;,&quot;parentUUID&quot;:&quot;14d6f816-28d9-48df-bcd0-eed4772a3c3d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;retorna 400 ao criar alimento com calories nulo&quot;,&quot;fullTitle&quot;:&quot;Casos funcionais negativos extras (pt-BR) retorna 400 ao criar alimento com calories nulo&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:183,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app)\n  .post(&#x27;/users/register&#x27;)\n  .send({ name: &#x27;A&#x27;, email: &#x27;a2@b.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app)\n  .post(&#x27;/users/login&#x27;)\n  .send({ email: &#x27;a2@b.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\nconst res = await request(app)\n  .post(&#x27;/foods&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ name: &#x27;X&#x27;, calories: null });\nexpect(res.status).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;563dcc3e-4ee3-4865-8007-a8f341eb12aa&quot;,&quot;parentUUID&quot;:&quot;14d6f816-28d9-48df-bcd0-eed4772a3c3d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;retorna 400 ao criar refeição com array vazio de foods&quot;,&quot;fullTitle&quot;:&quot;Casos funcionais negativos extras (pt-BR) retorna 400 ao criar refeição com array vazio de foods&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:173,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app)\n  .post(&#x27;/users/register&#x27;)\n  .send({ name: &#x27;B&#x27;, email: &#x27;b@b.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app)\n  .post(&#x27;/users/login&#x27;)\n  .send({ email: &#x27;b@b.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\nconst res = await request(app)\n  .post(&#x27;/meals&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ foods: [] });\nexpect(res.status).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b6fb26ac-ef85-471c-a32b-ee881d354600&quot;,&quot;parentUUID&quot;:&quot;14d6f816-28d9-48df-bcd0-eed4772a3c3d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;retorna 401 ao acessar rota protegida com token inválido&quot;,&quot;fullTitle&quot;:&quot;Casos funcionais negativos extras (pt-BR) retorna 401 ao acessar rota protegida com token inválido&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app)\n  .post(&#x27;/foods&#x27;)\n  .set(&#x27;Authorization&#x27;, &#x27;Bearer invalid.token&#x27;)\n  .send({ name: &#x27;Z&#x27;, calories: 10 });\nexpect(res.status).to.equal(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b822d2c3-2faf-4f48-a0f6-49670b5687c3&quot;,&quot;parentUUID&quot;:&quot;14d6f816-28d9-48df-bcd0-eed4772a3c3d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;retorna 400 ao atualizar alimento com campo extra inesperado&quot;,&quot;fullTitle&quot;:&quot;Casos funcionais negativos extras (pt-BR) retorna 400 ao atualizar alimento com campo extra inesperado&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:177,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app)\n  .post(&#x27;/users/register&#x27;)\n  .send({ name: &#x27;C&#x27;, email: &#x27;c@c.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app)\n  .post(&#x27;/users/login&#x27;)\n  .send({ email: &#x27;c@c.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\nconst f = await request(app)\n  .post(&#x27;/foods&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ name: &#x27;Y&#x27;, calories: 20 });\nconst id = f.body.id;\nconst res = await request(app)\n  .put(`/foods/${id}`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ name: &#x27;Y&#x27;, calories: 22, unexpected: true });\nexpect(res.status).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;015cc3ef-ec7b-4b65-b4ee-b9144c93c337&quot;,&quot;parentUUID&quot;:&quot;14d6f816-28d9-48df-bcd0-eed4772a3c3d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8be62290-86ef-4ea9-89f7-28d724eebd52&quot;,&quot;563dcc3e-4ee3-4865-8007-a8f341eb12aa&quot;,&quot;b6fb26ac-ef85-471c-a32b-ee881d354600&quot;,&quot;b822d2c3-2faf-4f48-a0f6-49670b5687c3&quot;,&quot;015cc3ef-ec7b-4b65-b4ee-b9144c93c337&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:575,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;4a5af15e-1b2d-4dd1-b262-703458122286&quot;,&quot;title&quot;:&quot;Endpoints de Alimentos (funcional)&quot;,&quot;fullFile&quot;:&quot;/Users/dennysmatos/Projects/julio-de-lima/mts20t1-ppp-nutrify-api/test/functional/food.spec.js&quot;,&quot;file&quot;:&quot;/test/functional/food.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Endpoints de Alimentos (funcional)\&quot;&quot;,&quot;fullTitle&quot;:&quot;Endpoints de Alimentos (funcional) \&quot;before each\&quot; hook in \&quot;Endpoints de Alimentos (funcional)\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;reset()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f1a1efd-f9de-49a2-8457-55dedb56ba66&quot;,&quot;parentUUID&quot;:&quot;4a5af15e-1b2d-4dd1-b262-703458122286&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;deve criar um alimento&quot;,&quot;fullTitle&quot;:&quot;Endpoints de Alimentos (funcional) deve criar um alimento&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:170,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app)\n  .post(&#x27;/users/register&#x27;)\n  .send({ name: &#x27;Food&#x27;, email: &#x27;f@example.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app)\n  .post(&#x27;/users/login&#x27;)\n  .send({ email: &#x27;f@example.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\nconst res = await request(app)\n  .post(&#x27;/foods&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ name: &#x27;Banana&#x27;, category: &#x27;Fruta&#x27;, calories: 89 });\nexpect(res.status).to.equal(201);\nexpect(res.body).to.have.property(&#x27;id&#x27;);\nexpect(res.body).to.have.property(&#x27;createdAt&#x27;);\nexpect(res.body).to.have.property(&#x27;updatedAt&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8991e54d-ae05-4279-9476-5d092cb5936f&quot;,&quot;parentUUID&quot;:&quot;4a5af15e-1b2d-4dd1-b262-703458122286&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8991e54d-ae05-4279-9476-5d092cb5936f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:170,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;3c87d2f5-8d9b-4541-99be-e9baa7704e49&quot;,&quot;title&quot;:&quot;Endpoints de Refeição (funcional)&quot;,&quot;fullFile&quot;:&quot;/Users/dennysmatos/Projects/julio-de-lima/mts20t1-ppp-nutrify-api/test/functional/meal.spec.js&quot;,&quot;file&quot;:&quot;/test/functional/meal.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Endpoints de Refeição (funcional)\&quot;&quot;,&quot;fullTitle&quot;:&quot;Endpoints de Refeição (funcional) \&quot;before each\&quot; hook in \&quot;Endpoints de Refeição (funcional)\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;reset()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6cc6939f-3e15-40ac-9029-b0ff053aab05&quot;,&quot;parentUUID&quot;:&quot;3c87d2f5-8d9b-4541-99be-e9baa7704e49&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;deve criar uma refeição e computar totais&quot;,&quot;fullTitle&quot;:&quot;Endpoints de Refeição (funcional) deve criar uma refeição e computar totais&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:176,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app)\n  .post(&#x27;/users/register&#x27;)\n  .send({ name: &#x27;M&#x27;, email: &#x27;m@example.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app)\n  .post(&#x27;/users/login&#x27;)\n  .send({ email: &#x27;m@example.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\nconst foodRes = await request(app)\n  .post(&#x27;/foods&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ name: &#x27;Apple&#x27;, calories: 52, protein: 0.3, carbs: 14, fat: 0.2 });\nconst foodId = foodRes.body.id;\nconst res = await request(app)\n  .post(&#x27;/meals&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ foods: [foodId] });\nexpect(res.status).to.equal(201);\nexpect(res.body).to.have.property(&#x27;totalCalories&#x27;);\nexpect(res.body.totalCalories).to.equal(52);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d70c5df-88db-44d3-9781-306bcbfc3f68&quot;,&quot;parentUUID&quot;:&quot;3c87d2f5-8d9b-4541-99be-e9baa7704e49&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1d70c5df-88db-44d3-9781-306bcbfc3f68&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:176,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a3c64219-5052-40ee-ab7e-3075dc7de5ff&quot;,&quot;title&quot;:&quot;Testes funcionais negativos / validação&quot;,&quot;fullFile&quot;:&quot;/Users/dennysmatos/Projects/julio-de-lima/mts20t1-ppp-nutrify-api/test/functional/negative.spec.js&quot;,&quot;file&quot;:&quot;/test/functional/negative.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Testes funcionais negativos / validação\&quot;&quot;,&quot;fullTitle&quot;:&quot;Testes funcionais negativos / validação \&quot;before each\&quot; hook in \&quot;Testes funcionais negativos / validação\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;reset()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8aab4765-9fbf-4f3b-80cd-e4173b2cf06c&quot;,&quot;parentUUID&quot;:&quot;a3c64219-5052-40ee-ab7e-3075dc7de5ff&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d87784c6-8cbd-4d5e-889e-df65d8e4d5a9&quot;,&quot;title&quot;:&quot;Validação de usuários e erros de autenticação&quot;,&quot;fullFile&quot;:&quot;/Users/dennysmatos/Projects/julio-de-lima/mts20t1-ppp-nutrify-api/test/functional/negative.spec.js&quot;,&quot;file&quot;:&quot;/test/functional/negative.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;retorna 400 ao registrar sem senha&quot;,&quot;fullTitle&quot;:&quot;Testes funcionais negativos / validação Validação de usuários e erros de autenticação retorna 400 ao registrar sem senha&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app)\n  .post(&#x27;/users/register&#x27;)\n  .send({ name: &#x27;NoPass&#x27;, email: &#x27;nopass@example.com&#x27; });\nexpect(res.status).to.equal(400);\nexpect(res.body).to.have.property(&#x27;errors&#x27;).that.is.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8af01c46-7430-4d11-a49b-edb51ab281f4&quot;,&quot;parentUUID&quot;:&quot;d87784c6-8cbd-4d5e-889e-df65d8e4d5a9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;retorna 400 ao registrar com nome vazio&quot;,&quot;fullTitle&quot;:&quot;Testes funcionais negativos / validação Validação de usuários e erros de autenticação retorna 400 ao registrar com nome vazio&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app)\n  .post(&#x27;/users/register&#x27;)\n  .send({ name: &#x27;&#x27;, email: &#x27;blank@example.com&#x27;, password: &#x27;123456&#x27; });\nexpect(res.status).to.equal(400);\nexpect(res.body).to.have.property(&#x27;errors&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c18d656b-e167-4d50-8d71-54b05a34395d&quot;,&quot;parentUUID&quot;:&quot;d87784c6-8cbd-4d5e-889e-df65d8e4d5a9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;retorna 401 ao autenticar com credenciais incorretas&quot;,&quot;fullTitle&quot;:&quot;Testes funcionais negativos / validação Validação de usuários e erros de autenticação retorna 401 ao autenticar com credenciais incorretas&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:160,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app).post(&#x27;/users/register&#x27;).send({\n  name: &#x27;Login&#x27;,\n  email: &#x27;login@example.com&#x27;,\n  password: &#x27;correct&#x27;,\n});\nconst res = await request(app)\n  .post(&#x27;/users/login&#x27;)\n  .send({ email: &#x27;login@example.com&#x27;, password: &#x27;wrong&#x27; });\nexpect(res.status).to.equal(401);\nexpect(res.body).to.have.property(&#x27;error&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b1796d2-dc1e-4572-b0d7-88461a6af2be&quot;,&quot;parentUUID&quot;:&quot;d87784c6-8cbd-4d5e-889e-df65d8e4d5a9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8af01c46-7430-4d11-a49b-edb51ab281f4&quot;,&quot;c18d656b-e167-4d50-8d71-54b05a34395d&quot;,&quot;4b1796d2-dc1e-4572-b0d7-88461a6af2be&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:167,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;9aebd22c-2135-494e-9d2d-b4d4cebba963&quot;,&quot;title&quot;:&quot;Validação de alimentos e autenticação&quot;,&quot;fullFile&quot;:&quot;/Users/dennysmatos/Projects/julio-de-lima/mts20t1-ppp-nutrify-api/test/functional/negative.spec.js&quot;,&quot;file&quot;:&quot;/test/functional/negative.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;retorna 401 ao criar alimento sem token&quot;,&quot;fullTitle&quot;:&quot;Testes funcionais negativos / validação Validação de alimentos e autenticação retorna 401 ao criar alimento sem token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app)\n  .post(&#x27;/foods&#x27;)\n  .send({ name: &#x27;NoAuth&#x27;, calories: 10 });\nexpect(res.status).to.equal(401);\nexpect(res.body).to.have.property(&#x27;error&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1cc8f85f-5c16-41a1-a86f-4eef14ea5575&quot;,&quot;parentUUID&quot;:&quot;9aebd22c-2135-494e-9d2d-b4d4cebba963&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;retorna 400 ao criar alimento sem nome&quot;,&quot;fullTitle&quot;:&quot;Testes funcionais negativos / validação Validação de alimentos e autenticação retorna 400 ao criar alimento sem nome&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:165,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app)\n  .post(&#x27;/users/register&#x27;)\n  .send({ name: &#x27;F&#x27;, email: &#x27;f2@example.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app)\n  .post(&#x27;/users/login&#x27;)\n  .send({ email: &#x27;f2@example.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\nconst res = await request(app)\n  .post(&#x27;/foods&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ calories: 10 });\nexpect(res.status).to.equal(400);\nexpect(res.body).to.have.property(&#x27;errors&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;68aaeab1-1c24-4309-b6dc-48d3f762f429&quot;,&quot;parentUUID&quot;:&quot;9aebd22c-2135-494e-9d2d-b4d4cebba963&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;retorna 400 quando calories tem tipo errado&quot;,&quot;fullTitle&quot;:&quot;Testes funcionais negativos / validação Validação de alimentos e autenticação retorna 400 quando calories tem tipo errado&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:166,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app)\n  .post(&#x27;/users/register&#x27;)\n  .send({ name: &#x27;F&#x27;, email: &#x27;f3@example.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app)\n  .post(&#x27;/users/login&#x27;)\n  .send({ email: &#x27;f3@example.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\nconst res = await request(app)\n  .post(&#x27;/foods&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ name: &#x27;Apple&#x27;, calories: &#x27;not-a-number&#x27; });\nexpect(res.status).to.equal(400);\nexpect(res.body).to.have.property(&#x27;errors&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2cc7de25-253c-4bab-8102-d389d1b6ce0d&quot;,&quot;parentUUID&quot;:&quot;9aebd22c-2135-494e-9d2d-b4d4cebba963&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;retorna 403 quando usuário não-admin tenta atualizar alimento&quot;,&quot;fullTitle&quot;:&quot;Testes funcionais negativos / validação Validação de alimentos e autenticação retorna 403 quando usuário não-admin tenta atualizar alimento&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:333,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// first register admin (first user is admin)\nawait request(app).post(&#x27;/users/register&#x27;).send({\n  name: &#x27;Admin&#x27;,\n  email: &#x27;admin@example.com&#x27;,\n  password: &#x27;123456&#x27;,\n});\n// create another normal user\nawait request(app)\n  .post(&#x27;/users/register&#x27;)\n  .send({ name: &#x27;User&#x27;, email: &#x27;user@example.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app)\n  .post(&#x27;/users/login&#x27;)\n  .send({ email: &#x27;user@example.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\n// admin creates food\nconst adminLogin = await request(app)\n  .post(&#x27;/users/login&#x27;)\n  .send({ email: &#x27;admin@example.com&#x27;, password: &#x27;123456&#x27; });\nconst adminToken = adminLogin.body.token;\nconst created = await request(app)\n  .post(&#x27;/foods&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${adminToken}`)\n  .send({ name: &#x27;Milk&#x27;, calories: 42 });\nconst id = created.body.id;\n// non-admin tries to update\nconst res = await request(app)\n  .put(`/foods/${id}`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ name: &#x27;Milk&#x27;, calories: 50 });\nexpect(res.status).to.equal(403);\nexpect(res.body).to.have.property(&#x27;error&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;54e9ffda-37e8-4934-a296-97312daa9555&quot;,&quot;parentUUID&quot;:&quot;9aebd22c-2135-494e-9d2d-b4d4cebba963&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1cc8f85f-5c16-41a1-a86f-4eef14ea5575&quot;,&quot;68aaeab1-1c24-4309-b6dc-48d3f762f429&quot;,&quot;2cc7de25-253c-4bab-8102-d389d1b6ce0d&quot;,&quot;54e9ffda-37e8-4934-a296-97312daa9555&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:666,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;d54dd0c9-905c-472e-ad72-684e52cacbe3&quot;,&quot;title&quot;:&quot;Validação de refeições e erros de negócio&quot;,&quot;fullFile&quot;:&quot;/Users/dennysmatos/Projects/julio-de-lima/mts20t1-ppp-nutrify-api/test/functional/negative.spec.js&quot;,&quot;file&quot;:&quot;/test/functional/negative.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;retorna 400 ao criar refeição sem lista de alimentos&quot;,&quot;fullTitle&quot;:&quot;Testes funcionais negativos / validação Validação de refeições e erros de negócio retorna 400 ao criar refeição sem lista de alimentos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:167,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app)\n  .post(&#x27;/users/register&#x27;)\n  .send({ name: &#x27;M&#x27;, email: &#x27;m2@example.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app)\n  .post(&#x27;/users/login&#x27;)\n  .send({ email: &#x27;m2@example.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\nconst res = await request(app)\n  .post(&#x27;/meals&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({});\nexpect(res.status).to.equal(400);\nexpect(res.body).to.have.property(&#x27;errors&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;56e55fff-64e5-4569-8167-83a100905143&quot;,&quot;parentUUID&quot;:&quot;d54dd0c9-905c-472e-ad72-684e52cacbe3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;retorna 400 quando foods não é um array&quot;,&quot;fullTitle&quot;:&quot;Testes funcionais negativos / validação Validação de refeições e erros de negócio retorna 400 quando foods não é um array&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:167,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app)\n  .post(&#x27;/users/register&#x27;)\n  .send({ name: &#x27;M&#x27;, email: &#x27;m3@example.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app)\n  .post(&#x27;/users/login&#x27;)\n  .send({ email: &#x27;m3@example.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\nconst res = await request(app)\n  .post(&#x27;/meals&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ foods: &#x27;not-an-array&#x27; });\nexpect(res.status).to.equal(400);\nexpect(res.body).to.have.property(&#x27;errors&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b74371b5-00d9-45a3-b4ac-fb995500426b&quot;,&quot;parentUUID&quot;:&quot;d54dd0c9-905c-472e-ad72-684e52cacbe3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;retorna 400 quando refeição referencia id de alimento inexistente&quot;,&quot;fullTitle&quot;:&quot;Testes funcionais negativos / validação Validação de refeições e erros de negócio retorna 400 quando refeição referencia id de alimento inexistente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:163,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app)\n  .post(&#x27;/users/register&#x27;)\n  .send({ name: &#x27;M&#x27;, email: &#x27;m4@example.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app)\n  .post(&#x27;/users/login&#x27;)\n  .send({ email: &#x27;m4@example.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\nconst res = await request(app)\n  .post(&#x27;/meals&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ foods: [&#x27;non-existing-id&#x27;] });\nexpect(res.status).to.equal(400);\nexpect(res.body).to.have.property(&#x27;error&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1da0864-cc1f-4db3-8430-2f4191ba7445&quot;,&quot;parentUUID&quot;:&quot;d54dd0c9-905c-472e-ad72-684e52cacbe3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;56e55fff-64e5-4569-8167-83a100905143&quot;,&quot;b74371b5-00d9-45a3-b4ac-fb995500426b&quot;,&quot;c1da0864-cc1f-4db3-8430-2f4191ba7445&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:497,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b78c56d0-f960-4a05-b593-7ec8a432573b&quot;,&quot;title&quot;:&quot;Validação strict (funcional)&quot;,&quot;fullFile&quot;:&quot;/Users/dennysmatos/Projects/julio-de-lima/mts20t1-ppp-nutrify-api/test/functional/strict.spec.js&quot;,&quot;file&quot;:&quot;/test/functional/strict.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Validação strict (funcional)\&quot;&quot;,&quot;fullTitle&quot;:&quot;Validação strict (funcional) \&quot;before each\&quot; hook in \&quot;Validação strict (funcional)\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;reset()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e868a24c-e4e6-4888-838d-ecb0e24699e6&quot;,&quot;parentUUID&quot;:&quot;b78c56d0-f960-4a05-b593-7ec8a432573b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;POST /users/register rejeita campos extras&quot;,&quot;fullTitle&quot;:&quot;Validação strict (funcional) POST /users/register rejeita campos extras&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).post(&#x27;/users/register&#x27;).send({\n  name: &#x27;X&#x27;,\n  email: &#x27;x@example.com&#x27;,\n  password: &#x27;123456&#x27;,\n  extra: &#x27;no&#x27;,\n});\nexpect(res.status).to.equal(400);\nexpect(res.body).to.have.property(&#x27;error&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0cdcd952-08b0-44e5-adb1-b3da3b635864&quot;,&quot;parentUUID&quot;:&quot;b78c56d0-f960-4a05-b593-7ec8a432573b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;POST /foods rejects extra fields&quot;,&quot;fullTitle&quot;:&quot;Validação strict (funcional) POST /foods rejects extra fields&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:165,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app)\n  .post(&#x27;/users/register&#x27;)\n  .send({ name: &#x27;F&#x27;, email: &#x27;f@example.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app)\n  .post(&#x27;/users/login&#x27;)\n  .send({ email: &#x27;f@example.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\nconst res = await request(app)\n  .post(&#x27;/foods&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ name: &#x27;Banana&#x27;, calories: 89, extra: &#x27;no&#x27; });\nexpect(res.status).to.equal(400);\nexpect(res.body).to.have.property(&#x27;error&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c485b78-6585-4a9e-bf24-fc1449420c8f&quot;,&quot;parentUUID&quot;:&quot;b78c56d0-f960-4a05-b593-7ec8a432573b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0cdcd952-08b0-44e5-adb1-b3da3b635864&quot;,&quot;3c485b78-6585-4a9e-bf24-fc1449420c8f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:167,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;cd520c5e-f540-423b-8172-0528ae9c6809&quot;,&quot;title&quot;:&quot;Validação strict em atualização (funcional)&quot;,&quot;fullFile&quot;:&quot;/Users/dennysmatos/Projects/julio-de-lima/mts20t1-ppp-nutrify-api/test/functional/strict_update.spec.js&quot;,&quot;file&quot;:&quot;/test/functional/strict_update.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Validação strict em atualização (funcional)\&quot;&quot;,&quot;fullTitle&quot;:&quot;Validação strict em atualização (funcional) \&quot;before each\&quot; hook in \&quot;Validação strict em atualização (funcional)\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;reset()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f072accd-8a3b-41c0-beb5-dc9d37417409&quot;,&quot;parentUUID&quot;:&quot;cd520c5e-f540-423b-8172-0528ae9c6809&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;PUT /foods/:id rejeita campos extras&quot;,&quot;fullTitle&quot;:&quot;Validação strict em atualização (funcional) PUT /foods/:id rejeita campos extras&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:168,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app)\n  .post(&#x27;/users/register&#x27;)\n  .send({ name: &#x27;U&#x27;, email: &#x27;u@example.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app)\n  .post(&#x27;/users/login&#x27;)\n  .send({ email: &#x27;u@example.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\nconst create = await request(app)\n  .post(&#x27;/foods&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ name: &#x27;Orange&#x27;, calories: 47 });\nconst id = create.body.id;\nconst res = await request(app)\n  .put(`/foods/${id}`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ name: &#x27;Orange&#x27;, calories: 50, extra: &#x27;no&#x27; });\nexpect(res.status).to.equal(400);\nexpect(res.body).to.have.property(&#x27;error&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;42be4921-3089-48a3-a6c7-9e0c36a4a0f1&quot;,&quot;parentUUID&quot;:&quot;cd520c5e-f540-423b-8172-0528ae9c6809&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;PUT /meals/:id rejects extra fields&quot;,&quot;fullTitle&quot;:&quot;Validação strict em atualização (funcional) PUT /meals/:id rejects extra fields&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:170,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request(app)\n  .post(&#x27;/users/register&#x27;)\n  .send({ name: &#x27;V&#x27;, email: &#x27;v@example.com&#x27;, password: &#x27;123456&#x27; });\nconst login = await request(app)\n  .post(&#x27;/users/login&#x27;)\n  .send({ email: &#x27;v@example.com&#x27;, password: &#x27;123456&#x27; });\nconst token = login.body.token;\nconst foodRes = await request(app)\n  .post(&#x27;/foods&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ name: &#x27;Pear&#x27;, calories: 57 });\nconst foodId = foodRes.body.id;\nconst mealRes = await request(app)\n  .post(&#x27;/meals&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ foods: [foodId] });\nconst mealId = mealRes.body.id;\nconst res = await request(app)\n  .put(`/meals/${mealId}`)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ date: new Date().toISOString(), foods: [foodId], extra: &#x27;no&#x27; });\nexpect(res.status).to.equal(400);\nexpect(res.body).to.have.property(&#x27;error&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0c6bb588-bbf1-4637-ae83-b895cd3b71b7&quot;,&quot;parentUUID&quot;:&quot;cd520c5e-f540-423b-8172-0528ae9c6809&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;42be4921-3089-48a3-a6c7-9e0c36a4a0f1&quot;,&quot;0c6bb588-bbf1-4637-ae83-b895cd3b71b7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:338,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;49881f36-9fc4-4620-a011-3d2d61cb1b9c&quot;,&quot;title&quot;:&quot;Endpoints de Usuário (funcional)&quot;,&quot;fullFile&quot;:&quot;/Users/dennysmatos/Projects/julio-de-lima/mts20t1-ppp-nutrify-api/test/functional/user.spec.js&quot;,&quot;file&quot;:&quot;/test/functional/user.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Endpoints de Usuário (funcional)\&quot;&quot;,&quot;fullTitle&quot;:&quot;Endpoints de Usuário (funcional) \&quot;before each\&quot; hook in \&quot;Endpoints de Usuário (funcional)\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;reset()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;80483e02-9bb2-4e37-9298-2120ad5cc4d0&quot;,&quot;parentUUID&quot;:&quot;49881f36-9fc4-4620-a011-3d2d61cb1b9c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;deve registrar e autenticar um usuário&quot;,&quot;fullTitle&quot;:&quot;Endpoints de Usuário (funcional) deve registrar e autenticar um usuário&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:163,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res1 = await request(app)\n  .post(&#x27;/users/register&#x27;)\n  .send({ name: &#x27;User&#x27;, email: &#x27;u@example.com&#x27;, password: &#x27;123456&#x27; });\nexpect(res1.status).to.equal(201);\nexpect(res1.body).to.have.property(&#x27;id&#x27;);\nconst res2 = await request(app)\n  .post(&#x27;/users/login&#x27;)\n  .send({ email: &#x27;u@example.com&#x27;, password: &#x27;123456&#x27; });\nexpect(res2.status).to.equal(200);\nexpect(res2.body).to.have.property(&#x27;token&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ddb9b44f-226a-48c3-bbdb-bee1ff716a1a&quot;,&quot;parentUUID&quot;:&quot;49881f36-9fc4-4620-a011-3d2d61cb1b9c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ddb9b44f-226a-48c3-bbdb-bee1ff716a1a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:163,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:5000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.8.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:true,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;reports/mocha&quot;,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;quiet&quot;:&quot;true&quot;,&quot;reportTitle&quot;:&quot;mts20t1-ppp-nutrify - Relatório de Testes (pt-BR)&quot;,&quot;reportPageTitle&quot;:&quot;Relatório Mochawesome - pt-BR&quot;,&quot;inlineAssets&quot;:&quot;false&quot;,&quot;timestamp&quot;:&quot;false&quot;,&quot;overwrite&quot;:&quot;true&quot;},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;reports/mocha&quot;,&quot;reportTitle&quot;:&quot;mts20t1-ppp-nutrify - Relatório de Testes (pt-BR)&quot;,&quot;reportPageTitle&quot;:&quot;Relatório Mochawesome - pt-BR&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:&quot;false&quot;,&quot;ts&quot;:&quot;false&quot;,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;reports/mocha/assets&quot;,&quot;jsonFile&quot;:&quot;/Users/dennysmatos/Projects/julio-de-lima/mts20t1-ppp-nutrify-api/reports/mocha/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/Users/dennysmatos/Projects/julio-de-lima/mts20t1-ppp-nutrify-api/reports/mocha/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>